<html>
<head>

    <script src="\Scripts\jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="~/Scripts/Style.css">
    <script type="text/javascript">

        function PreencherTabela() {
            var tabela = $("#tablePhil");
            var cliente = $("#numClientes").val(); //prompt("Insira a quantidade de clientes", 30);                                    
            tabela.empty();
            $.ajax({
                type: "GET",
                url: '/api/Clients/topclients/' + cliente + '/true',
                //data: {parametro:"fudeu"},
                success: function (result) {
                    //alert(JSON.stringify(result));
                    var html = "";
                    html = "<tr> <th>Nome</th> <th>Sobrenome</th> <th>Nacionalidade</th> <th>Recomendações</th> </tr>";
                    for (i = 0; i < result.length; i++) {
                        html += "<tr> <td>" + result[i].firstName + "</td> <td>" + result[i].lastName + "</td> <td>" + result[i].country + "</td>" +
                            "<td>" + result[i].numberOfRecommendations + "</td ></tr >";
                    }
                    tabela.append(html);
                },
                //dataType: "json"
            });
        }
    </script>

</head>
<body>
    <div id="divPhil">
        <div class="container" id="filtro">
            <div class="center">
                <label>Quantidade de clientes:</label>
                <input id="numClientes" value="30" type="number">
                <input type="button" class="button button1" value="Procurar" onclick="PreencherTabela()">
            </div>         
        </div>

            <table id="customers">
                <thead>

                </thead>
                <tbody id="tablePhil">
                </tbody>
            </table>
        </div>
</body>

</html>
